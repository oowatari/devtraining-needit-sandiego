<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_ux_macroponent">
    <sys_ux_macroponent action="INSERT_OR_UPDATE">
        <associated_types/>
        <category>page</category>
        <component_dependencies/>
        <composition>[ {
  "elementId" : "heading_container",
  "elementLabel" : "Heading Container",
  "propertyValues" : {
    "ariaRegionName" : {
      "type" : "JSON_LITERAL",
      "value" : ""
    },
    "includeAriaHeading" : {
      "type" : "JSON_LITERAL",
      "value" : false
    },
    "ariaRegionHeadingLevel" : {
      "type" : "JSON_LITERAL",
      "value" : "1"
    },
    "type" : {
      "type" : "JSON_LITERAL",
      "value" : "section"
    },
    "ariaRole" : {
      "type" : "JSON_LITERAL",
      "value" : ""
    }
  },
  "eventMappings" : [ ],
  "slot" : "Main",
  "definition" : {
    "id" : "d356d14b6e293a3020a244b63d278d8f",
    "type" : "MACROPONENT"
  },
  "overrides" : {
    "composition" : [ {
      "elementId" : "container_1",
      "elementLabel" : "Container 1",
      "propertyValues" : {
        "ariaRegionName" : {
          "type" : "JSON_LITERAL",
          "value" : ""
        },
        "includeAriaHeading" : {
          "type" : "JSON_LITERAL",
          "value" : false
        },
        "ariaRegionHeadingLevel" : {
          "type" : "JSON_LITERAL",
          "value" : "1"
        },
        "type" : {
          "type" : "JSON_LITERAL",
          "value" : "section"
        },
        "ariaRole" : {
          "type" : "JSON_LITERAL",
          "value" : ""
        }
      },
      "eventMappings" : [ ],
      "slot" : "Main",
      "definition" : {
        "id" : "d356d14b6e293a3020a244b63d278d8f",
        "type" : "MACROPONENT"
      },
      "overrides" : {
        "composition" : [ {
          "elementId" : "heading_1",
          "elementLabel" : "Heading 1",
          "propertyValues" : {
            "label" : {
              "type" : "TRANSLATION_LITERAL",
              "value" : {
                "code" : null,
                "message" : "Playbook Activity Stream",
                "comment" : ""
              }
            },
            "level" : {
              "type" : "JSON_LITERAL",
              "value" : "2"
            },
            "variant" : {
              "type" : "JSON_LITERAL",
              "value" : "header-secondary"
            },
            "wontWrap" : {
              "type" : "JSON_LITERAL",
              "value" : false
            },
            "hasNoMargin" : {
              "type" : "JSON_LITERAL",
              "value" : true
            }
          },
          "eventMappings" : [ ],
          "slot" : "default-slot",
          "definition" : {
            "id" : "1f6e0643eca7a637e36bd7833549ec9e",
            "type" : "MACROPONENT"
          },
          "overrides" : null,
          "isHidden" : {
            "type" : "JSON_LITERAL",
            "value" : ""
          },
          "isHero" : false,
          "isNonDestructive" : false,
          "styles" : { }
        } ],
        "layout" : {
          "default" : {
            "children" : null,
            "isInline" : null,
            "items" : [{"slotName":"default-slot","styles":{"flex-direction":"column","background":"RGB(var(--now-color_surface--brand-1))","padding":"var(--now-static-space--xl) var(--now-static-space--xl) var(--now-static-space--md) var(--now-static-space--xl)"}}],
            "root" : null,
            "rules" : {"flex-direction":"column"},
            "styles" : null,
            "templateId" : "5832fd4d53c31010e6bcddeeff7b12db",
            "type" : "flex"
          },
          "version" : "2.0.0"
        }
      },
      "isHidden" : {
        "type" : "JSON_LITERAL",
        "value" : ""
      },
      "isHero" : false,
      "isNonDestructive" : false,
      "styles" : { }
    } ],
    "layout" : {
      "default" : {
        "children" : null,
        "isInline" : null,
        "items" : [{"slotName":"Main","rules":{"flex":"1"},"styles":{"display":"flex","flex-direction":"column"}}],
        "root" : null,
        "rules" : {"flex-flow":"row nowrap","align-items":"stretch","height":"100%"},
        "styles" : null,
        "templateId" : "5832fd4d53c31010e6bcddeeff7b12db",
        "type" : "flex"
      }
    }
  },
  "isHidden" : {
    "type" : "JSON_LITERAL",
    "value" : ""
  },
  "isHero" : false,
  "isNonDestructive" : false,
  "styles" : { }
}, {
  "elementId" : "case_activity_container",
  "elementLabel" : "Case Activity Container",
  "propertyValues" : {
    "ariaRegionName" : {
      "type" : "JSON_LITERAL",
      "value" : ""
    },
    "includeAriaHeading" : {
      "type" : "JSON_LITERAL",
      "value" : false
    },
    "ariaRegionHeadingLevel" : {
      "type" : "JSON_LITERAL",
      "value" : "1"
    },
    "type" : {
      "type" : "JSON_LITERAL",
      "value" : "section"
    },
    "ariaRole" : {
      "type" : "JSON_LITERAL",
      "value" : ""
    }
  },
  "eventMappings" : [ ],
  "slot" : "Main",
  "definition" : {
    "id" : "d356d14b6e293a3020a244b63d278d8f",
    "type" : "MACROPONENT"
  },
  "overrides" : {
    "composition" : [ {
      "elementId" : "viewport_wmk",
      "elementLabel" : "Tabs 1",
      "propertyValues" : {
        "dynamicTabData" : null,
        "defaultRoute" : {
          "type" : "JSON_LITERAL",
          "value" : "cko70deks001l3g7yccl6zdaa"
        },
        "viewportConfiguration" : {
          "type" : "JSON_LITERAL",
          "value" : {
            "validation" : {
              "name" : {
                "required" : true
              },
              "order" : {
                "required" : false
              },
              "icon" : {
                "required" : false
              }
            },
            "enableDataDrivenTabs" : true
          }
        },
        "selectedTabIndex" : {
          "type" : "JSON_LITERAL",
          "value" : null
        },
        "maxWidth" : {
          "type" : "JSON_LITERAL",
          "value" : null
        },
        "fixedWidth" : {
          "type" : "JSON_LITERAL",
          "value" : false
        },
        "hideLabel" : {
          "type" : "JSON_LITERAL",
          "value" : false
        },
        "items" : {
          "type" : "LIST_CONTAINER",
          "container" : [ {
            "type" : "MAP_CONTAINER",
            "container" : {
              "id" : {
                "type" : "JSON_LITERAL",
                "value" : "cko70deks001l3g7yccl6zdaa"
              },
              "label" : {
                "type" : "TRANSLATION_LITERAL",
                "value" : {
                  "code" : null,
                  "message" : "Task",
                  "comment" : ""
                }
              },
              "type" : {
                "type" : "JSON_LITERAL",
                "value" : "local"
              },
              "icon" : {
                "type" : "JSON_LITERAL",
                "value" : ""
              },
              "order" : {
                "type" : "JSON_LITERAL",
                "value" : 0
              }
            }
          }, {
            "type" : "MAP_CONTAINER",
            "container" : {
              "id" : {
                "type" : "JSON_LITERAL",
                "value" : "cko70cjeh001h3g7y3x947tv9"
              },
              "label" : {
                "type" : "TRANSLATION_LITERAL",
                "value" : {
                  "code" : null,
                  "message" : "Playbook Case",
                  "comment" : ""
                }
              },
              "type" : {
                "type" : "JSON_LITERAL",
                "value" : "local"
              },
              "icon" : {
                "type" : "JSON_LITERAL",
                "value" : ""
              },
              "order" : {
                "type" : "JSON_LITERAL",
                "value" : 100
              }
            }
          } ]
        },
        "size" : {
          "type" : "JSON_LITERAL",
          "value" : null
        }
      },
      "eventMappings" : [ ],
      "slot" : "Main",
      "definition" : {
        "id" : "b324da974cef96f2db1d484cfeda4e3e",
        "type" : "MACROPONENT_VIEWPORT"
      },
      "overrides" : {
        "composition" : [ {
          "elementId" : "ckohhaadekvaaaabbmddghhyrmfffuddjw",
          "elementLabel" : "Task",
          "propertyValues" : {
            "ariaRegionName" : {
              "type" : "JSON_LITERAL",
              "value" : ""
            },
            "includeAriaHeading" : {
              "type" : "JSON_LITERAL",
              "value" : false
            },
            "ariaRegionHeadingLevel" : {
              "type" : "JSON_LITERAL",
              "value" : "1"
            },
            "type" : {
              "type" : "JSON_LITERAL",
              "value" : "section"
            },
            "ariaRole" : {
              "type" : "JSON_LITERAL",
              "value" : ""
            }
          },
          "eventMappings" : [ ],
          "slot" : "cko70deks001l3g7yccl6zdaa",
          "definition" : {
            "id" : "d356d14b6e293a3020a244b63d278d8f",
            "type" : "MACROPONENT"
          },
          "overrides" : {
            "composition" : [ {
              "elementId" : "task_activity_stream_compose",
              "elementLabel" : "Task Activity Stream Compose",
              "propertyValues" : {
                "title" : {
                  "type" : "TRANSLATION_LITERAL",
                  "value" : {
                    "code" : null,
                    "message" : "Compose",
                    "comment" : ""
                  }
                },
                "table" : {
                  "type" : "STATE_BINDING",
                  "binding" : {
                    "address" : [ "activityTable" ]
                  }
                },
                "sysId" : {
                  "type" : "STATE_BINDING",
                  "binding" : {
                    "address" : [ "activityId" ]
                  }
                },
                "fields" : {
                  "type" : "JSON_LITERAL",
                  "value" : {
                    "comments" : {
                      "name" : "comments",
                      "label" : "Additional comments (Customer Visible)",
                      "sys_readonly" : false,
                      "readonly" : false,
                      "visible" : true,
                      "type" : "journal_input",
                      "maxLength" : 1000
                    },
                    "work_notes" : {
                      "name" : "work_notes",
                      "label" : "Work Notes",
                      "sys_readonly" : false,
                      "readonly" : false,
                      "visible" : true,
                      "type" : "journal_input",
                      "maxLength" : 2000
                    }
                  }
                },
                "isNewRecord" : {
                  "type" : "JSON_LITERAL",
                  "value" : false
                },
                "useTabs" : {
                  "type" : "JSON_LITERAL",
                  "value" : true
                },
                "allowJournalFieldSettingsOverrides" : {
                  "type" : "JSON_LITERAL",
                  "value" : true
                },
                "journalFieldSettings" : {
                  "type" : "JSON_LITERAL",
                  "value" : { }
                },
                "canPostMandatoryFields" : {
                  "type" : "JSON_LITERAL",
                  "value" : null
                }
              },
              "eventMappings" : [ ],
              "slot" : "Main",
              "definition" : {
                "id" : "77cb9632116e67049295c7c35d6a6147",
                "type" : "MACROPONENT"
              },
              "overrides" : null,
              "isHidden" : {
                "type" : "JSON_LITERAL",
                "value" : ""
              },
              "isHero" : false,
              "isNonDestructive" : false,
              "styles" : {
                "padding-bottom" : "var(--now-static-space--xl)"
              }
            }, {
              "elementId" : "task_activity_stream",
              "elementLabel" : "Task Activity Stream",
              "propertyValues" : {
                "title" : {
                  "type" : "TRANSLATION_LITERAL",
                  "value" : {
                    "code" : null,
                    "message" : "Activity",
                    "comment" : ""
                  }
                },
                "table" : {
                  "type" : "STATE_BINDING",
                  "binding" : {
                    "address" : [ "activityTable" ]
                  }
                },
                "sysId" : {
                  "type" : "STATE_BINDING",
                  "binding" : {
                    "address" : [ "activityId" ]
                  }
                },
                "view" : {
                  "type" : "JSON_LITERAL",
                  "value" : ""
                },
                "isNewRecord" : {
                  "type" : "JSON_LITERAL",
                  "value" : false
                },
                "showConversationFilter" : {
                  "type" : "JSON_LITERAL",
                  "value" : true
                },
                "showTileAvatars" : {
                  "type" : "JSON_LITERAL",
                  "value" : false
                },
                "showTileIcons" : {
                  "type" : "JSON_LITERAL",
                  "value" : true
                },
                "events" : {
                  "type" : "JSON_LITERAL",
                  "value" : null
                },
                "supplemental" : {
                  "type" : "JSON_LITERAL",
                  "value" : null
                },
                "ambChannels" : {
                  "type" : "JSON_LITERAL",
                  "value" : null
                },
                "userReferences" : {
                  "type" : "JSON_LITERAL",
                  "value" : null
                },
                "filterOptions" : {
                  "type" : "JSON_LITERAL",
                  "value" : null
                },
                "timestamp" : {
                  "type" : "JSON_LITERAL",
                  "value" : null
                }
              },
              "eventMappings" : [ ],
              "slot" : "Main",
              "definition" : {
                "id" : "821dfc11da1d0fb007579ccb53738fd5",
                "type" : "MACROPONENT"
              },
              "overrides" : null,
              "isHidden" : {
                "type" : "JSON_LITERAL",
                "value" : ""
              },
              "isHero" : false,
              "isNonDestructive" : false,
              "styles" : {
                "padding-top" : "var(--now-static-space--xl)"
              }
            } ],
            "layout" : {
              "default" : {
                "children" : null,
                "isInline" : null,
                "items" : [{"slotName":"Main","rules":{"flex":"1"},"styles":{"display":"flex","flex-direction":"column","padding-top":"var(--now-static-space--xl)"}}],
                "root" : null,
                "rules" : {"flex-flow":"row nowrap","align-items":"stretch","height":"100%"},
                "styles" : null,
                "templateId" : "5832fd4d53c31010e6bcddeeff7b12db",
                "type" : "flex"
              }
            }
          },
          "isHidden" : {
            "type" : "JSON_LITERAL",
            "value" : ""
          },
          "isHero" : false,
          "isNonDestructive" : false,
          "styles" : { }
        }, {
          "elementId" : "ckohhaacjrgaaaabbjddghhyeebbacjcgg",
          "elementLabel" : "Case",
          "propertyValues" : {
            "ariaRegionName" : {
              "type" : "JSON_LITERAL",
              "value" : ""
            },
            "includeAriaHeading" : {
              "type" : "JSON_LITERAL",
              "value" : false
            },
            "ariaRegionHeadingLevel" : {
              "type" : "JSON_LITERAL",
              "value" : "1"
            },
            "type" : {
              "type" : "JSON_LITERAL",
              "value" : "section"
            },
            "ariaRole" : {
              "type" : "JSON_LITERAL",
              "value" : ""
            }
          },
          "eventMappings" : [ ],
          "slot" : "cko70cjeh001h3g7y3x947tv9",
          "definition" : {
            "id" : "d356d14b6e293a3020a244b63d278d8f",
            "type" : "MACROPONENT"
          },
          "overrides" : {
            "composition" : [ {
              "elementId" : "case_activity_stream_compose",
              "elementLabel" : "Case Activity Stream Compose",
              "propertyValues" : {
                "title" : {
                  "type" : "TRANSLATION_LITERAL",
                  "value" : {
                    "code" : null,
                    "message" : "Compose",
                    "comment" : ""
                  }
                },
                "table" : {
                  "type" : "CONTEXT_BINDING",
                  "binding" : {
                    "address" : [ "table" ],
                    "category" : "props"
                  }
                },
                "sysId" : {
                  "type" : "CONTEXT_BINDING",
                  "binding" : {
                    "address" : [ "sysId" ],
                    "category" : "props"
                  }
                },
                "fields" : {
                  "type" : "CLIENT_TRANSFORM_SCRIPT",
                  "script" : {
                    "apiVersion" : "1.0.0",
                    "inlineScript" : "/**\n  * @param {params} params\n  * @param {api} params.api\n  * @param {any} params.imports\n  */\nfunction evaluateProperty({api}) {\n  \tvar caseState = api.data.get_case_state.result.state.value;\n    var caseFieldDefinition = {\"comments\":{\"name\":\"comments\",\"label\":\"Additional comments (Customer Visible)\",\"sys_readonly\":false,\"readonly\":false,\"visible\":true,\"type\":\"journal_input\",\"maxLength\":1000},\"work_notes\":{\"name\":\"work_notes\",\"label\":\"Work Notes\",\"sys_readonly\":false,\"readonly\":false,\"visible\":true,\"type\":\"journal_input\",\"maxLength\":2000}};\n    var closedCaseFieldDefintion = {\"comments\":{\"name\":\"comments\",\"label\":\"Additional comments (Customer Visible)\",\"sys_readonly\":false,\"readonly\":false,\"visible\":false,\"type\":\"journal_input\",\"maxLength\":1000},\"work_notes\":{\"name\":\"work_notes\",\"label\":\"Work Notes\",\"sys_readonly\":false,\"readonly\":false,\"visible\":false,\"type\":\"journal_input\",\"maxLength\":2000}};\n    if(caseState == '3') {// Case is closed\n        return closedCaseFieldDefintion;\n    }\n    else\n      return caseFieldDefinition;\n}",
                    "scriptSysId" : null
                  }
                },
                "isNewRecord" : {
                  "type" : "JSON_LITERAL",
                  "value" : false
                },
                "useTabs" : {
                  "type" : "JSON_LITERAL",
                  "value" : true
                },
                "allowJournalFieldSettingsOverrides" : {
                  "type" : "JSON_LITERAL",
                  "value" : true
                },
                "journalFieldSettings" : {
                  "type" : "JSON_LITERAL",
                  "value" : { }
                },
                "canPostMandatoryFields" : {
                  "type" : "JSON_LITERAL",
                  "value" : null
                }
              },
              "eventMappings" : [ ],
              "slot" : "Main",
              "definition" : {
                "id" : "77cb9632116e67049295c7c35d6a6147",
                "type" : "MACROPONENT"
              },
              "overrides" : null,
              "isHidden" : {
                "type" : "JSON_LITERAL",
                "value" : ""
              },
              "isHero" : false,
              "isNonDestructive" : false,
              "styles" : {
                "padding-bottom" : "var(--now-static-space--xl)"
              }
            }, {
              "elementId" : "case_activity_stream",
              "elementLabel" : "Case Activity Stream",
              "propertyValues" : {
                "title" : {
                  "type" : "TRANSLATION_LITERAL",
                  "value" : {
                    "code" : null,
                    "message" : "Activity",
                    "comment" : ""
                  }
                },
                "table" : {
                  "type" : "CONTEXT_BINDING",
                  "binding" : {
                    "address" : [ "table" ],
                    "category" : "props"
                  }
                },
                "sysId" : {
                  "type" : "CONTEXT_BINDING",
                  "binding" : {
                    "address" : [ "sysId" ],
                    "category" : "props"
                  }
                },
                "view" : {
                  "type" : "JSON_LITERAL",
                  "value" : ""
                },
                "isNewRecord" : {
                  "type" : "JSON_LITERAL",
                  "value" : false
                },
                "showConversationFilter" : {
                  "type" : "JSON_LITERAL",
                  "value" : true
                },
                "showTileAvatars" : {
                  "type" : "JSON_LITERAL",
                  "value" : false
                },
                "showTileIcons" : {
                  "type" : "JSON_LITERAL",
                  "value" : true
                },
                "events" : {
                  "type" : "JSON_LITERAL",
                  "value" : null
                },
                "supplemental" : {
                  "type" : "JSON_LITERAL",
                  "value" : null
                },
                "ambChannels" : {
                  "type" : "JSON_LITERAL",
                  "value" : null
                },
                "userReferences" : {
                  "type" : "JSON_LITERAL",
                  "value" : null
                },
                "filterOptions" : {
                  "type" : "JSON_LITERAL",
                  "value" : null
                },
                "timestamp" : {
                  "type" : "JSON_LITERAL",
                  "value" : null
                }
              },
              "eventMappings" : [ ],
              "slot" : "Main",
              "definition" : {
                "id" : "821dfc11da1d0fb007579ccb53738fd5",
                "type" : "MACROPONENT"
              },
              "overrides" : null,
              "isHidden" : {
                "type" : "JSON_LITERAL",
                "value" : ""
              },
              "isHero" : false,
              "isNonDestructive" : false,
              "styles" : {
                "padding-top" : "var(--now-static-space--xl)"
              }
            } ],
            "layout" : {
              "default" : {
                "children" : null,
                "isInline" : null,
                "items" : [{"slotName":"Main","rules":{"flex":"1"},"styles":{"display":"flex","flex-direction":"column","padding-top":"var(--now-static-space--xl)"}}],
                "root" : null,
                "rules" : {"flex-flow":"row nowrap","align-items":"stretch","height":"100%"},
                "styles" : null,
                "templateId" : "5832fd4d53c31010e6bcddeeff7b12db",
                "type" : "flex"
              }
            }
          },
          "isHidden" : {
            "type" : "JSON_LITERAL",
            "value" : ""
          },
          "isHero" : false,
          "isNonDestructive" : false,
          "styles" : { }
        } ],
        "layout" : null
      },
      "isHidden" : {
        "type" : "JSON_LITERAL",
        "value" : ""
      },
      "isHero" : false,
      "isNonDestructive" : false,
      "styles" : {
        "background" : "linear-gradient(to bottom, RGB(var(--now-color_surface--brand-1)) var(--now-static-space--xxl), RGB(var(--now-color_divider--secondary)) var(--now-static-space--xxl) calc(var(--now-static-space--xs)*8.25), RGB(var(--now-color_background--primary)) calc(var(--now-static-space--xs)*8.25))",
        "padding-left" : "var(--now-static-space--xl)",
        "padding-right" : "var(--now-static-space--xl)",
        "flex-grow" : "1"
      }
    } ],
    "layout" : {
      "default" : {
        "children" : null,
        "isInline" : null,
        "items" : [{"slotName":"Main","rules":{"flex":"1","align-self":"flex-start"},"styles":{"display":"flex","flex-direction":"column","align-items":"stretch","padding-top":"0px"}}],
        "root" : null,
        "rules" : {"flex-flow":"row nowrap","align-items":"stretch","height":"100%"},
        "styles" : null,
        "templateId" : "5832fd4d53c31010e6bcddeeff7b12db",
        "type" : "flex"
      }
    }
  },
  "isHidden" : {
    "type" : "CLIENT_TRANSFORM_SCRIPT",
    "script" : {
      "apiVersion" : "1.0.0",
      "inlineScript" : "/**\n  * @param {params} params\n  * @param {api} params.api\n  * @param {any} params.imports\n  */\nfunction evaluateProperty({api}) {\n  var hideTab = true;\n  var activityTable = api.context.props.table;\n  var relatedRecordContent = api.context.props.relatedRecordContent;\n    if(relatedRecordContent != undefined &amp;&amp; relatedRecordContent != null){\n        var associatedTable = api.context.props.relatedRecordContent.associatedTable;\n        if(associatedTable != activityTable &amp;&amp; associatedTable == \"sn_customerservice_task\"){\n            activityTable = api.context.props.relatedRecordContent.associatedTable;\n            hideTab = false;\n        }      \n    }\n\treturn hideTab;\n}",
      "scriptSysId" : null
    }
  },
  "isHero" : false,
  "isNonDestructive" : false,
  "styles" : { }
}, {
  "elementId" : "single_container",
  "elementLabel" : "Single Container",
  "propertyValues" : {
    "ariaRegionName" : {
      "type" : "JSON_LITERAL",
      "value" : ""
    },
    "includeAriaHeading" : {
      "type" : "JSON_LITERAL",
      "value" : false
    },
    "ariaRegionHeadingLevel" : {
      "type" : "JSON_LITERAL",
      "value" : "1"
    },
    "type" : {
      "type" : "JSON_LITERAL",
      "value" : "section"
    },
    "ariaRole" : {
      "type" : "JSON_LITERAL",
      "value" : ""
    }
  },
  "eventMappings" : [ ],
  "slot" : "Main",
  "definition" : {
    "id" : "d356d14b6e293a3020a244b63d278d8f",
    "type" : "MACROPONENT"
  },
  "overrides" : {
    "composition" : [ {
      "elementId" : "case_activity_stream_compose_1",
      "elementLabel" : "Case Activity Stream Compose 1",
      "propertyValues" : {
        "title" : {
          "type" : "TRANSLATION_LITERAL",
          "value" : {
            "code" : null,
            "message" : "Compose",
            "comment" : ""
          }
        },
        "table" : {
          "type" : "CONTEXT_BINDING",
          "binding" : {
            "address" : [ "table" ],
            "category" : "props"
          }
        },
        "sysId" : {
          "type" : "CONTEXT_BINDING",
          "binding" : {
            "address" : [ "sysId" ],
            "category" : "props"
          }
        },
        "fields" : {
          "type" : "CLIENT_TRANSFORM_SCRIPT",
          "script" : {
            "apiVersion" : "2.0.0",
            "inlineScript" : "/**\n  * @param {params} params\n  * @param {api} params.api\n  * @param {any} params.imports\n  */\nfunction evaluateProperty({api}) {\n\t  var caseState = api.data.get_case_state.result.state.value;\n    var caseFieldDefinition = {\"comments\":{\"name\":\"comments\",\"label\":\"Additional comments (Customer Visible)\",\"sys_readonly\":false,\"readonly\":false,\"visible\":true,\"type\":\"journal_input\",\"maxLength\":1000},\"work_notes\":{\"name\":\"work_notes\",\"label\":\"Work Notes\",\"sys_readonly\":false,\"readonly\":false,\"visible\":true,\"type\":\"journal_input\",\"maxLength\":2000}};\n    var closedCaseFieldDefintion = {\"comments\":{\"name\":\"comments\",\"label\":\"Additional comments (Customer Visible)\",\"sys_readonly\":false,\"readonly\":false,\"visible\":false,\"type\":\"journal_input\",\"maxLength\":1000},\"work_notes\":{\"name\":\"work_notes\",\"label\":\"Work Notes\",\"sys_readonly\":false,\"readonly\":false,\"visible\":false,\"type\":\"journal_input\",\"maxLength\":2000}};\n    if(caseState == '3') {// Case is closed\n        return closedCaseFieldDefintion;\n    }\n    else\n      return caseFieldDefinition;\n}",
            "scriptSysId" : null
          }
        },
        "isNewRecord" : {
          "type" : "JSON_LITERAL",
          "value" : false
        },
        "useTabs" : {
          "type" : "JSON_LITERAL",
          "value" : true
        },
        "allowJournalFieldSettingsOverrides" : {
          "type" : "JSON_LITERAL",
          "value" : true
        },
        "journalFieldSettings" : {
          "type" : "JSON_LITERAL",
          "value" : { }
        },
        "canPostMandatoryFields" : {
          "type" : "JSON_LITERAL",
          "value" : null
        }
      },
      "eventMappings" : [ ],
      "slot" : "Main",
      "definition" : {
        "id" : "77cb9632116e67049295c7c35d6a6147",
        "type" : "MACROPONENT"
      },
      "overrides" : null,
      "isHidden" : {
        "type" : "JSON_LITERAL",
        "value" : ""
      },
      "isHero" : false,
      "isNonDestructive" : false,
      "styles" : {
        "padding" : "var(--now-static-space--xl)",
        "background" : "rgb(var(--now-color_background--primary))"
      }
    }, {
      "elementId" : "case_activity_stream_1",
      "elementLabel" : "Case Activity Stream 1",
      "propertyValues" : {
        "title" : {
          "type" : "TRANSLATION_LITERAL",
          "value" : {
            "code" : null,
            "message" : "Activity",
            "comment" : ""
          }
        },
        "table" : {
          "type" : "CONTEXT_BINDING",
          "binding" : {
            "address" : [ "table" ],
            "category" : "props"
          }
        },
        "sysId" : {
          "type" : "CONTEXT_BINDING",
          "binding" : {
            "address" : [ "sysId" ],
            "category" : "props"
          }
        },
        "view" : {
          "type" : "JSON_LITERAL",
          "value" : ""
        },
        "isNewRecord" : {
          "type" : "JSON_LITERAL",
          "value" : false
        },
        "showConversationFilter" : {
          "type" : "JSON_LITERAL",
          "value" : true
        },
        "showTileAvatars" : {
          "type" : "JSON_LITERAL",
          "value" : false
        },
        "showTileIcons" : {
          "type" : "JSON_LITERAL",
          "value" : true
        },
        "events" : {
          "type" : "JSON_LITERAL",
          "value" : null
        },
        "supplemental" : {
          "type" : "JSON_LITERAL",
          "value" : null
        },
        "ambChannels" : {
          "type" : "JSON_LITERAL",
          "value" : null
        },
        "userReferences" : {
          "type" : "JSON_LITERAL",
          "value" : null
        },
        "filterOptions" : {
          "type" : "JSON_LITERAL",
          "value" : null
        },
        "timestamp" : {
          "type" : "JSON_LITERAL",
          "value" : null
        }
      },
      "eventMappings" : [ ],
      "slot" : "Main",
      "definition" : {
        "id" : "821dfc11da1d0fb007579ccb53738fd5",
        "type" : "MACROPONENT"
      },
      "overrides" : null,
      "isHidden" : {
        "type" : "JSON_LITERAL",
        "value" : ""
      },
      "isHero" : false,
      "isNonDestructive" : false,
      "styles" : {
        "padding" : "var(--now-static-space--xl)",
        "background" : "rgb(var(--now-color_background--primary))"
      }
    } ],
    "layout" : {
      "default" : {
        "children" : null,
        "isInline" : null,
        "items" : [{"slotName":"Main","rules":{"flex":"1"},"styles":{"display":"flex","flex-direction":"column","align-items":"stretch"}}],
        "root" : null,
        "rules" : {"flex-flow":"row nowrap","align-items":"stretch","height":"100%"},
        "styles" : null,
        "templateId" : "5832fd4d53c31010e6bcddeeff7b12db",
        "type" : "flex"
      }
    }
  },
  "isHidden" : {
    "type" : "CLIENT_TRANSFORM_SCRIPT",
    "script" : {
      "apiVersion" : "1.0.0",
      "inlineScript" : "/**\n  * @param {params} params\n  * @param {api} params.api\n  * @param {any} params.imports\n  */\nfunction evaluateProperty({api}) {\n    var hideTab = true;\n    var activityTable = api.context.props.table;\n    var relatedRecordContent = api.context.props.relatedRecordContent;\n      if(relatedRecordContent != undefined &amp;&amp; relatedRecordContent != null){\n          var associatedTable = api.context.props.relatedRecordContent.associatedTable;\n          if(associatedTable != activityTable &amp;&amp; associatedTable == \"sn_customerservice_task\"){\n              activityTable = api.context.props.relatedRecordContent.associatedTable;\n              hideTab = false;\n          }      \n      }\n    return !hideTab;\n}",
      "scriptSysId" : null
    }
  },
  "isHero" : false,
  "isNonDestructive" : false,
  "styles" : {
    "border-top-color" : "RGB(var(--now-color_divider--secondary))",
    "border-top-width" : "var(--now-card--border-width)",
    "border-top-style" : "solid",
    "flex-grow" : "1"
  }
} ]</composition>
        <da_relay_models/>
        <data>[ {
  "definition" : {
    "id" : "9664d48053461010cbc2ddeeff7b128e",
    "type" : "COMPOSITE"
  },
  "elementId" : "get_case_state",
  "elementLabel" : "Get Case State",
  "eventMappings" : [ ],
  "inputValues" : {
    "table" : {
      "type" : "CONTEXT_BINDING",
      "binding" : {
        "address" : [ "table" ],
        "category" : "props"
      }
    },
    "recordId" : {
      "type" : "CONTEXT_BINDING",
      "binding" : {
        "address" : [ "sysId" ],
        "category" : "props"
      }
    },
    "returnFields" : {
      "type" : "STATE_BINDING",
      "binding" : {
        "address" : [ "caseField" ]
      }
    },
    "returnTableMetadata" : {
      "type" : "JSON_LITERAL",
      "value" : false
    },
    "returnFieldMetadata" : {
      "type" : "JSON_LITERAL",
      "value" : false
    }
  },
  "readEvaluationMode" : "EXPLICIT"
} ]</data>
        <description/>
        <dispatched_events/>
        <ext_controller_dep/>
        <extends display_value="Page Template">19be392623033300f4b4c50947bf65ba</extends>
        <extension_point/>
        <handled_events/>
        <interactions/>
        <interfaces/>
        <internal_event_mappings>{
  "MACROPONENT_PROPERTY_CHANGED" : [ {
    "broker" : null,
    "clientScript" : {
      "sysId" : "528f63dd973e1510f23fbc400153afdf"
    },
    "conditional" : null,
    "declarativeAction" : null,
    "event" : null,
    "operation" : null,
    "targetId" : "ckoggyaktqaaaaccbddghhtticvazeff",
    "type" : "CLIENT_SCRIPT"
  } ],
  "MACROPONENT_READY" : [ {
    "broker" : null,
    "clientScript" : {
      "sysId" : "528f63dd973e1510f23fbc400153afdf"
    },
    "conditional" : null,
    "declarativeAction" : null,
    "event" : null,
    "operation" : null,
    "targetId" : "ckoggyabaabbaaaaccjjddghhtlqlseebbky",
    "type" : "CLIENT_SCRIPT"
  } ]
}</internal_event_mappings>
        <layout>{
  "default" : {
    "children" : null,
    "isInline" : null,
    "items" : [{"slotName":"Main","rules":{"flex":"1","align-self":null},"styles":{"display":"flex","flex-direction":"column","background-color":"RGB(var(--now-color_background--primary))","padding-top":"0px"}}],
    "root" : null,
    "rules" : {"flex-flow":"column","align-items":"stretch","min-height":"100vh"},
    "styles" : {"background-color":"RGB(var(--now-color_background--primary))","padding-top":"0px"},
    "templateId" : "28bde4cd53431010e6bcddeeff7b12cc",
    "type" : "flex"
  },
  "version" : "2.0.0"
}</layout>
        <macroponent_dependencies/>
        <name>Activity stream</name>
        <output_prop_mapping/>
        <props>[ {
  "name" : "relatedRecordContent",
  "label" : "relatedRecordContent",
  "fieldType" : "string",
  "typeMetadata" : null,
  "valueType" : "string",
  "mandatory" : false,
  "defaultValue" : "",
  "description" : null,
  "readOnly" : true,
  "selectable" : false,
  "disabled" : false
}, {
  "name" : "table",
  "label" : "Table",
  "fieldType" : "string",
  "typeMetadata" : null,
  "valueType" : "string",
  "mandatory" : false,
  "defaultValue" : "",
  "description" : null,
  "readOnly" : true,
  "selectable" : false,
  "disabled" : false
}, {
  "name" : "sysId",
  "label" : "sysId",
  "fieldType" : "string",
  "typeMetadata" : null,
  "valueType" : "string",
  "mandatory" : false,
  "defaultValue" : "",
  "description" : null,
  "readOnly" : true,
  "selectable" : false,
  "disabled" : false
} ]</props>
        <required_translations>[ {
  "message" : "Activity",
  "comment" : ""
}, {
  "message" : "Additional comments (Customer Visible)",
  "comment" : ""
}, {
  "message" : "Compose",
  "comment" : ""
}, {
  "message" : "Playbook Activity Stream",
  "comment" : ""
}, {
  "message" : "Playbook Case",
  "comment" : ""
}, {
  "message" : "Task",
  "comment" : ""
}, {
  "message" : "Work Notes",
  "comment" : ""
} ]</required_translations>
        <root_component/>
        <root_component_config>{ }</root_component_config>
        <root_component_definition/>
        <schema_version>1.0.0</schema_version>
        <state_properties>[ {
  "name" : "activityTable",
  "label" : "activityTable",
  "fieldType" : "",
  "valueType" : "",
  "shape" : "",
  "description" : "",
  "initialValue" : {
    "type" : "JSON_LITERAL",
    "value" : null
  }
}, {
  "name" : "activityId",
  "label" : "activityId",
  "fieldType" : "",
  "valueType" : "",
  "shape" : "",
  "description" : "",
  "initialValue" : {
    "type" : "JSON_LITERAL",
    "value" : null
  }
}, {
  "name" : "caseField",
  "label" : "caseField",
  "fieldType" : "",
  "valueType" : "",
  "shape" : "",
  "description" : "",
  "initialValue" : {
    "type" : "JSON_LITERAL",
    "value" : "number,state"
  }
} ]</state_properties>
        <sys_class_name>sys_ux_macroponent</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-10-26 23:25:50</sys_created_on>
        <sys_id>de8f63dd973e1510f23fbc400153afcf</sys_id>
        <sys_mod_count>1</sys_mod_count>
        <sys_name>Activity stream</sys_name>
        <sys_package display_value="NeedIt" source="x_58872_needit">6ead8e780f603200cd674f8ce1050ed1</sys_package>
        <sys_policy/>
        <sys_scope display_value="NeedIt">6ead8e780f603200cd674f8ce1050ed1</sys_scope>
        <sys_update_name>sys_ux_macroponent_de8f63dd973e1510f23fbc400153afcf</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-10-26 23:25:51</sys_updated_on>
    </sys_ux_macroponent>
</record_update>
